<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Info</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="/static/branding.js"></script>
    <script src="/static/notifications.js"></script>
    <script src="/static/i18n.js"></script>
    <style>
        * { font-family: 'Outfit', sans-serif; }
    </style>
</head>
<body class="bg-gray-50 p-6">
    <div class="max-w-4xl mx-auto">
        <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
                <svg class="w-5 h-5 text-[#009cb6]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                </svg>
                Company Information
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Legal Company Name</label>
                    <input type="text" id="legalName" placeholder="AutoPrudente Rent-a-Car Lda" class="w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-[#009cb6] focus:border-transparent rounded">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Tax ID / VAT Number</label>
                    <input type="text" id="taxId" placeholder="PT123456789" class="w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-[#009cb6] focus:border-transparent rounded">
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                    <input type="email" id="companyEmail" placeholder="info@autoprudente.com" class="w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-[#009cb6] focus:border-transparent rounded">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Phone</label>
                    <input type="tel" id="companyPhone" placeholder="+351 289 123 456" class="w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-[#009cb6] focus:border-transparent rounded">
                </div>
            </div>

            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">Address</label>
                <textarea id="companyAddress" rows="3" placeholder="Rua Example, 123&#10;8200-000 Albufeira&#10;Portugal" class="w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-[#009cb6] focus:border-transparent rounded"></textarea>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Website</label>
                    <input type="url" id="companyWebsite" placeholder="https://www.autoprudente.com" class="w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-[#009cb6] focus:border-transparent rounded">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Support Email</label>
                    <input type="email" id="supportEmail" placeholder="support@autoprudente.com" class="w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-[#009cb6] focus:border-transparent rounded">
                </div>
            </div>

            <div class="bg-[#f0f9fb] border border-[#009cb6] rounded p-4">
                <div class="flex items-start gap-3">
                    <svg class="w-5 h-5 text-[#009cb6] flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <div>
                        <p class="text-sm text-gray-800"><strong class="text-[#009cb6]">Complete Setup:</strong> Fill in all company information for a professional, ready-to-use platform. This information can be used in reports, invoices, and customer communications.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function loadSettings() {
            const saved = localStorage.getItem('brandingSettings');
            if (saved) {
                try {
                    const settings = JSON.parse(saved);
                    if (settings.legalName) document.getElementById('legalName').value = settings.legalName;
                    if (settings.taxId) document.getElementById('taxId').value = settings.taxId;
                    if (settings.companyEmail) document.getElementById('companyEmail').value = settings.companyEmail;
                    if (settings.companyPhone) document.getElementById('companyPhone').value = settings.companyPhone;
                    if (settings.companyAddress) document.getElementById('companyAddress').value = settings.companyAddress;
                    if (settings.companyWebsite) document.getElementById('companyWebsite').value = settings.companyWebsite;
                    if (settings.supportEmail) document.getElementById('supportEmail').value = settings.supportEmail;
                } catch (e) {
                    console.error('Error loading settings:', e);
                }
            }
        }

        function saveSettings() {
            const saved = localStorage.getItem('brandingSettings') || '{}';
            const settings = JSON.parse(saved);
            
            settings.legalName = document.getElementById('legalName').value;
            settings.taxId = document.getElementById('taxId').value;
            settings.companyEmail = document.getElementById('companyEmail').value;
            settings.companyPhone = document.getElementById('companyPhone').value;
            settings.companyAddress = document.getElementById('companyAddress').value;
            settings.companyWebsite = document.getElementById('companyWebsite').value;
            settings.supportEmail = document.getElementById('supportEmail').value;
            
            localStorage.setItem('brandingSettings', JSON.stringify(settings));
            showNotification('âœ… Company info saved!', 'success');
        }

        // showNotification is now loaded from /static/notifications.js

        ['legalName', 'taxId', 'companyEmail', 'companyPhone', 'companyAddress', 'companyWebsite', 'supportEmail'].forEach(id => {
            document.getElementById(id).addEventListener('blur', saveSettings);
        });

        loadSettings();
    </script>
</body>
</html>
